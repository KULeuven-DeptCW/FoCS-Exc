\documentclass{article}
\title{FCW: gekwoteerde opgave 1}
\author{Prof. B. Demoen (\url{Bart.Demoen@cs.kuleuven.be})\\ W. Van Onsem (\url{Willem.VanOnsem@cs.kuleuven.be})}
\date{28 maart 2014}
\usepackage{tikz,../assignment-nl,../importsreferences-nl}
\usetikzlibrary{shapes}

\newcommand{\bchr}[2]{\fbrk{\begin{array}{c}#1\\#2\end{array}}}

\newcommand{\cdfa}[2]{\begin{tikzpicture}[statesc/.style={state,scale=0.75}]
\def\cnt{#1}
\def\ra{1.5}
\def\alpha{-360/\cnt}
\node[statesc,initial,accepting] (Q1) at (180:\ra cm) {$q_0$};
\foreach \i in {2,3,...,\cnt} {
  \node[statesc] (Q\i) at (\alpha*\i+180-\alpha:\ra cm) {$q_{\i}$};
}
\foreach \i/\j/\t in {#2} {
  \path[->] (Q\i) edge node[sloped,above]{$\t$} (Q\j);
}
\end{tikzpicture}}
\begin{document}
\maketitle
\richtlijnen{}
\aboutanswers{}
\begin{question}[Pompend lemma van reguliere talen] Stel een speciale familie van DFAs $C_n$ met $n$ toestanden. De toestanden zijn geordend $q_0,q_1,\ldots,q_{n-1}$ zodat de eerste toestand $q_0$ de initi\"ele en enige accepterende toestand is. Verder kan de DFA enkel overgangen bevatten van een toestand $q_i$ naar een toestand $q_j$ indien $i<j$. De enige uitzondering is $q_{n-1}$ vanwaar een boog (mogelijk met meerdere karakters) vertrekt naar $q_0$. Of formeler:
\begin{quote}\begin{definition}[Cyclische DFA]
Gegeven een getal $n\in\NNN$, een \emph{cyclische DFA} met $n$ toestanden is een DFA $\tupl{Q,\Sigma,\delta,F,q_1}$ met $Q=\accl{q_1,q_2,\ldots,q_n}$, $\Sigma$ een eindig alfabet, $F=\accl{q_1}$ en $\delta$ is gedefinieerd als volgt:
\begin{eqnarray}
\forall q_i\in Q\setminus\accl{q_n},a\in\Sigma:\exists q_j\in Q:\fun{\delta}{q_i,a}=q_j\mbox{ met } j>i\\
\forall a\in\Sigma:\fun{\delta}{q_n,a}=q_1
\end{eqnarray}
\end{definition}\end{quote}
\begin{example}
\figref{mrt-q1} toont enkele voorbeelden van een dergelijke DFA.
\begin{figure}[hbt]
\centering
\importtikzsubfigure{mrt-dfa3}{}
\importtikzsubfigure{mrt-dfa4}{}
\caption{Voorbeelden van de familie van cyclische DFAs}
\figlab{mrt-q1}
\end{figure}
\end{example}
\paragraph{}
Is de verzameling van talen die beslist kunnen worden met een cyclische DFA strikt kleiner dat de set van talen die met een normale DFA kunnen worden voorgesteld? Of kun je elke DFA omvormen tot een cyclische DFA die dezelfde taal beslist?

\begin{answer}
$\mbox{RegLan}_C$ is een \textbf{strikte deelverzameling} van $\mbox{RegLan}$. We dienen hiervoor te bewijzen dat minstens \'e\'en taal $L$ niet behoort. Er zijn verschillende families van talen die we niet kunnen voorstellen met een cyclische DFA. Hieronder een niet-exhaustieve opsomming:
\begin{enumerate}
 \item De lege taal (vermits de start-toestand accepterend is).
 \item Elke taal die geen $\epsilon$ bevat (vermits de start-toestand accepterend is).
 \item Elke eindige taal (vermits een DFA geen $\epsilon$-bogen bevat en een cyclus van minstens lengte $1$ impliceert dat we strings willekeurig veel kunnen herhalen).
 \item Talen die na een bepaald patroon geen eerder geziene karakters meer bevatten, bijvoorbeeld $L=a^{\star}bc^{\star}$.
\end{enumerate}

\end{answer}
\end{question}

\begin{question}[Minimalisatie van een DFA]
Betreft het minimalisatiealgoritme:
\begin{enumerate}
 \item Het minimalisatiealgoritme in sectie \S4.4.2 (pagina 39) in de cursus is niet erg effici\"ent, vooral stap 3. Kun je \'e\'en of meer verbeteringen voorstellen zodat het algoritme effici\"enter werkt?
 \item Stel dat een DFA niet beslist of een string wel of niet tot een taal behoort, maar alle mogelijk strings $s\in\Sigma^{\star}$ onderverdeelt in $k$ categorie\"en $K=\accl{1,2,\ldots,k}$. Dit doet men door elke toestand $q_i$ te annoteren met een categorie $\fun{l}{q_i}$. Indien de automaat stopt in een toestand $q_f$ met $\fun{l}{q_f}=j$, dan behoort de string tot categorie $j$. Wat moet je aanpassen aan de $f$-gelijk-constructie, zodat je dergelijke DFAs kunt minimaliseren met behoud van de categorisatie-functie.
\end{enumerate}
\begin{answer}

\end{answer}
\end{question}


\begin{question}[Reguliere talen]
Geef voor onderstaande talen een reguliere expressie, een DFA, of bewijs aan de hand van het pompend lemma dat de taal niet regulier is:
\begin{enumerate}
 \item $L=\accl{\begin{array}{l|l}w\in\accl{a,b}^{\star}&\mbox{voor elke substring van $w$ is het verschil tussen}\\&\mbox{het aantal $a$'s en het aantal $b$'s nooit groter dan 2.}\end{array}}$
 \item $L=\condset{a^nb^mc^n}{n,m\in\NNN:n,m\geq 0}$
\end{enumerate}
\begin{answer}
\begin{enumerate}
 \item Deze taal is regulier. Op \figref{mrt-q3-dfa} toont een (minimale) DFA die deze taal beslist. Het idee is om telkens het verschil in $a$'s en $b$'s bij te houden. Indien dit op een willekeurig moment groter wordt dan $2$, komt de DFA in een verwerp-toestand terecht. Indien de DFA op het einde niet op de verwerp-toestand staat, wordt de string geaccepteerd.
 \importtikzfigure{mrt-q3-dfa}{Een DFA die $L_1$ beslist.}
 \item Deze taal is niet regulier. We kunnen eerst de doorsnede nemen met de taal $L=a^{\star}c^{\star}$, in dat geval is $L'=\condset{a^nb^mc^n}{n,m\in\NNN:n,m\geq 0}\cap\accl{a^{\star}c^{\star}}=\condset{a^nc^n}{n\in\NNN}$, een schoolvoorbeeld van een niet-reguliere taal waarvan het pompend lemma in de cursustekst staat uitgewerkt.\\
 Het pompend lemma rechtstreeks gebruiken is minder evident. We werken het hier toch uit. Stel een string $s\in\Sigma^{\star}$ langer dan de pomplengte $p$ met $s=a^pb^pc^p$. Dan moet er een opdeling $s=xyz$ bestaan met $\abs{xy}\leq p$ en $\abs{y}>0$ zodat $\forall i\in\NNN:xy^iz\in L$. Het is evident dat $y$ uit slechts \'e\'en soort karakters kan bestaan: anders pompen we ook strings die meer dan twee keer van karakter verwisselen. Iets wat niet kan volgens de taal. Vermits $\abs{xy}\leq p$, weten we dat $y$ uitsluitend uit $a$'s kan bestaan. Stel $y=a^l$ met $l$ onbekend maar groter dan $0$, dan pompen we voor $i=2$ de string $a^{p+l}b^pc^p$, deze string behoort niet tot de taal bij om het even welke $l$ groter dan $0$. Dit leidt dus tot een contradictie.
\end{enumerate}
\end{answer}
\end{question}

\begin{question}[Voorstellingskracht van reguliere talen]
Bewijs (bijvoorbeeld aan de hand van een constructie) of geef een tegenvoorbeeld voor volgende stellingen:
\begin{enumerate}
 \item Stel een niet-reguliere taal $L$(er bestaat geen DFA die de taal kan beslissen), dan is $L^{\star}$ ook niet regulier.
 \item Stel twee reguliere talen $L_1$ en $L_2$, is de taal $L$ dan ook regulier met:
 \begin{equation}
  L=\condset{s_1t_1s_2t_2\ldots s_nt_n}{s\in L_1,t\in L_2}
 \end{equation}
 Merk op dat de strings in $L$ allemaal een even lengte hebben, en de strings $s$ en $t$ respectievelijk uit $L_1$ en $L_2$ dezelfde lengte moeten hebben.
\end{enumerate}
\begin{answer}
\begin{enumerate}
 \item Deze uitspraak is \textbf{fout}. Stel een taal $L=\condset{a^q}{q\in\PPP}$ met $\PPP$ de set van priemgetallen. $L$ is geen reguliere taal:
 \begin{quote}
 \begin{proof}
 We bewijzen dit aan de hand van het pompend lemma. Neem een string $s=a^q$ met $q$ een priemgetal groter dan de onbekende pomplengte $p$. In dat geval bestaat er een opdeling $s=xyz$. Het is evident dat $y$ uit \'e\'en of meerdere $a$'s bestaat, m.a.w. $y=a^l$ met $l>0$. De lengte $\abs{xz}=q-l$. In het geval we $i$ gelijk nemen aan $i=q-l$ bekomen we de string $xy^{q-l}z=a^{l\cdot\brak{q-l}+q-l}=a^{\brak{q-l}\cdot\brak{l+1}}$. Het aantal $a$'s is hier dus deelbaar door $q-l$ en $l+1$, bijgevolg is $\brak{q-l}\cdot\brak{l+1}$ geen priemgetal, en behoort de string $xy^{q-l}z$ niet tot $L$.
 \end{proof}
 \end{quote}
 $L^{\star}$ is echter wel regulier:
 \begin{quote}
 \begin{proof}
 We weten dat zowel $2$ en $3$ in $\PPP$ zitten. We kunnen elk natuurlijk getal groter dan $1$ schrijven als een som van $2$ en $3$ per inductie:
 \begin{enumerate}
  \item $2$ is te schrijven als $2$ (een som met slechts \'e\'en element)
  \item Stel dat $n$ te schrijven valt als de som van elementen uit $\accl{2,3}$ dan geldt dit ook voor $n+1$. Indien de som van $n$ immers een $2$ bevat, kunnen we de $2$ vervangen door een $3$; indien $n$ enkel $3$'en bevat, vervangen we een $3$ door $2+2$.
 \end{enumerate}
 Bijgevolg is $L^{\star}=\epsilon|aaa^{\star}$
 \end{proof}
 \end{quote}
 \item Deze uitspraak is \textbf{waar}. Hieronder geven we een constructie.
 \begin{quote}
 \begin{construction}[Meng-DFA]
 Vermits $L_1$ en $L_2$ regulier zijn bestaan er DFA's $\mbox{DFA}_1=\tupl{Q_1,\delta_1,\Sigma_1,F_1,q_{0,1}}$ en $\mbox{DFA}_2=\tupl{Q_2,\delta_2,\Sigma_2,F_2,q_{0,2}}$. De constructie resulteert in $\mbox{meng-DFA}=\tupl{Q,\delta,\Sigma,F,q_0}$ met:
 \begin{eqnarray}
  Q&=&\brak{Q_1\times Q_2\times\accl{0,1}}\cup\accl{q_w}\\
  \Sigma&=&\Sigma_1\cup\Sigma_2\\
  q_0&=&q_0\times q_1\times 0\\
  F&=&F_1\times F_2\times\accl{0}\\
  \forall a\in \Sigma:\fun{\delta}{q_w,a}&=&q_w\\
  \forall q_1\in Q_1,q_2\in Q_2,a\in \Sigma_1:\fun{\delta}{q_1\times q_2\times 0,a}&=&\fun{\delta_1}{q_1,a}\times q_2\times 1\\
  \forall q_1\in Q_1,q_2\in Q_2,a\in \Sigma_2:\fun{\delta}{q_1\times q_2\times 1,a}&=&q_1\times\fun{\delta_2}{q_2,a}\times 0\\
  \forall q_1\in Q_1,q_2\in Q_2,a\in \Sigma\setminus\Sigma_1:\fun{\delta}{q_1\times q_2\times 0,a}&=&q_w\\
  \forall q_1\in Q_1,q_2\in Q_2,a\in \Sigma\setminus\Sigma_2:\fun{\delta}{q_1\times q_2\times 1,a}&=&q_w
 \end{eqnarray}
 Met $q_w$ een nieuwe toestand zodat $q_w\notin\brak{Q_1\times Q_2\times\accl{0,1}}$.
 \end{construction}
 \end{quote}
 De intu\"itie is dat een toestand $q\in Q$ de toestanden van de twee originele DFA's bijhoudt alsook weet of het op dat moment verder moet in met de eerste of de tweede DFA. Indien het index-cijfer\footnote{Het derde component van een toestand.} op $0$ staat, is het de beurt aan de eerste DFA. Indien het ingelezen karakter effectief tot $\Sigma_1$ behoort, passen we de eerste toestand aan volgens $\delta_1$ en zetten we het index-cijfer op $1$. Indien het karakter niet tot $\Sigma_1$ behoort, komen we in een reject-toestand $q_w$ terecht. Analoog construeren we voor de tweede DFA. De nieuwe DFA kan enkel accepteren als het index-cijfer op $0$ staat: de tweede DFA is dan even vaak aan de beurt geweest als de eerste.
\end{enumerate}
\end{answer}
\end{question}

\begin{question}[Contextvrije talen]
Geef voor onderstaande talen een context-vrije grammatica, een push-down automaat, of bewijs aan de hand van het pompend lemma dat de taal niet context-vrij is.
\begin{enumerate}
 \item $\condset{a^{2^n}}{n\in\NNN}$.
 \item $\condset{s\in\accl{\tfrac{0}{0},\tfrac{0}{1},\tfrac{1}{0},\tfrac{1}{1}}^{\star}}{\mbox{Binaire waarde bovenste rij is $3\times$ de binaire waarde onderste rij}}$.
 \item $\condset{ww^Rw}{w\in\accl{0,1}^{\star}}$.
 \item Een taal met $\Sigma=\accl{(,),[,]}$ volgens de normale regels van haakjes, maar waarbij de vierkante haken op ieder niveau altijd na de ronde haken komen te staan. Bijvoorbeeld $\brak{}\fbrk{}$, $\brak{\fbrk{}}{\brak{}}$ en $\brak{\brak{}\fbrk{\brak{}}}\brak{}$ is correct, maar $\fbrk{}\brak{}$ en $\brak{\fbrk{}\brak{}\fbrk{}}\fbrk{}$ niet.
\end{enumerate}
\begin{answer}
\begin{enumerate}
 \item Dit is \textbf{niet context-vrij}. We bewijzen aan de hand van het pompend lemma. Stel $s$ een string $s=a^q$ met $q$ een macht van $2$ en $q>p$ met $p$ de onbekende pomplengte. Voor elke mogelijke opdeling $s=uvxyz$ weten we dat $v$ en $y$ uitsluitend uit $a$'s kunnen bestaan, we stellen $v=a^k$ en $y=a^l$. We weten dat moet gelden $0<l+k<p<q$. Stel $i=2$, dan is de gegenereerde string $a^{q+l+k}$. Vermits $q<q+k+l<2\cdot q$ is dit geen macht van $2$. Bijgevolg behoort deze string niet tot $L$.
 \item Deze taal is \textbf{regulier}.\figref{mrt-q5-dfa} toont hiervoor een DFA. Vermits elke DFA een PDA is waarbij de stapel niet wordt gebruikt, is de taal dus context-vrij.\\
 \importtikzfigure{mrt-q5-dfa}{Een DFA die binaire vermenigvuldiging met een constante controleert.}
 Een interessant gevolg is dus dat men in digitale logica een \emph{online vermenigvuldiger} kan bouwen die in lineaire tijd voor een vaste constante een sequentieel ingevoerd binair getal, een binair getal kan genereren waarvan de invoer vermenigvuldigt is met de gegeven constante.
 \item Deze taal is \textbf{niet context-vrij}. Dit bewijzen we door eerst de doorsnede met $a^{\star}b^{\star}a^{\star}b^{\star}$ te nemen. In dat geval bekomen we de taal $L'=\condset{a^nb^{2\cdot n}a^{2\cdot n}b^n}{n\in\NNN}$. Een voor de hand liggende keuze voor $s$ is $s=a^pb^{2\cdot p}a^{2\cdot p}b^p$, met $p$ de onbekende pomplengte. Voor alle opdelingen $s=uvxyz$ weten we, op basis van de voorwaarden van het pompend lemma. Dat $v$ en $y$ elk uit slechts \'e\'en soort karakters kunnen bestaan. Onafhankelijk van welke karakters gekozen worden, kunnen hoogstens twee van de vier groepen verder worden uitgebreid. Bijgevolg is er geen enkele opdeling waarvoor we de taal kunnen pompen. Bijgevolg is de taal niet context-vrij.
 \item Deze taal is \textbf{context-vrij}. Zie \grmref{mrt-q5-grm} voor een context-vrije grammatica.
 \importgram{mrt-q5-grm}{Een contex-vrije grammatica voor de haakjes-taal. Scheve haken duiden op een non-terminal, de overige haken zijn terminals.}
\end{enumerate}

\end{answer}
\end{question}

\begin{question}[$\oplus$NFA]
Beschouw een $\oplus$NFA\footnote{Uitspraak Parity-NFA}:
\begin{quote}
\begin{definition}
Een $\oplus$NFA is een $\oplus$NFA accepteert een string $s$ wanneer een oneven aantal paden bij $s$ op de $NFA$ in een accepterende toestand terecht komen en verwerpt wanneer een even aantal paden in een accepterende toestand terecht komen.
\end{definition}
\end{quote}
Welke uitspraken zijn waar, beargumenteer of geef een tegenvoorbeeld:
\begin{enumerate}
 \item Elke DFA is een $\oplus$NFA en deze $\oplus$NFA bepaalt dezelfde taal.
 \item Voor elke $\oplus$NFA bestaat er een DFA die dezelfde taal beslist.
 \item Wanneer de NFA geen $\epsilon$-bogen bevat en er vanuit elke toestand voor elk karakter juist \'e\'en boog vertrekt is de $\oplus$NFA ook een DFA die dezelfde taal beslist.
 \item We kunnen gegeven een DFA en een $\oplus$NFA de doorsnede-constructie in de cursus gebruiken om een $\oplus$NFA te bouwen die de doorsnede van de twee talen beslist.
 \item Niet alle talen beslist door een $\oplus$NFA zijn regulier, maar ze zijn allemaal context-vrij.
\end{enumerate}
\begin{answer}
\begin{enumerate}
 \item \textbf{Waar}. Een DFA bevindt zich telkens in \'e\'en toestand tegelijk. Wanneer dit een accepterende toestand is, is het aantal accepterende toestanden waarin we ons bevinden oneven, dus zou de $\oplus\mbox{NFA}$ ook accepteren. Wanneer we ons niet in accepterende toestand bevinden, is het aantal accepterende toestanden even, zowel de DFA en de $\oplus\mbox{NFA}$ zouden dus verwerpen.
 \item \textbf{Waar}.
 \item \textbf{Waar}. Volgend item toont aan dat een $\oplus\mbox{NFA}$ uitsluitend reguliere talen kan beslissen. Omdat elke reguliere taal ook context-vrij is, is deze uitspraak waar.
 \item \textbf{Waar}. We kunnen analoog aan een NFA, een constructie maken voor een $\oplus\mbox{NFA}$ zodat we een DFA bekomen die dezelfde taal accepteert.
 \begin{quote}
  
 \end{quote}

\end{enumerate}

\end{answer}
\end{question}
\end{document}